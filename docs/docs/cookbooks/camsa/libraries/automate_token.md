---
title: automate_token
parent: Libraries
nav_order: 50
layout: default
---

# automate_ssl

In order to call Automate APIs a key is required. These can be generated by the `chef-automate` command. The setup system creates at least one token to allow access, however more can be created based on the attributes that are set.

The semaphore file prevents a token being created that has already been assigned.

## Syntax

```ruby
automate_token 'name' do
  creates         String    # Path to the semaphore file created when a successfully created
  action          Symbol    # defaults to :create if not specified
end
```

where:

 - `automate_ssl` is the resource
 - `name` is the name given to the resource block
 - `action` identifies which steps chef-client will take to bring the nodes into the desired state
 - `creates` are properties available to this resource

## Actions

The `automate_token` resource has the following actions:

`:run` - Call the `chef-automate admin-token` to create a token


